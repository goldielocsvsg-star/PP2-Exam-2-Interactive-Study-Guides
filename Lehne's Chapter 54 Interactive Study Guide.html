<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 54: Angina & Antianginal Drugs - Interactive Study Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        :root {
            --heart-red: #e74c3c;
            --oxygen-blue: #3498db;
            --vessel-purple: #9b59b6;
            --nitrate-yellow: #f1c40f;
            --beta-green: #27ae60;
            --ccb-orange: #e67e22;
            --bg-cream: #fef9f3;
            --card-white: #ffffff;
            --text-dark: #2c3e50;
            --shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #fef9f3 0%, #e8f4f8 50%, #fce4ec 100%);
            color: var(--text-dark);
            line-height: 1.7;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--heart-red) 0%, var(--vessel-purple) 100%);
            border-radius: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "‚ù§Ô∏è üíä ü´Ä";
            position: absolute;
            font-size: 80px;
            opacity: 0.15;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            white-space: nowrap;
        }

        .header h1 {
            font-family: 'Fredoka One', cursive;
            font-size: 2.5em;
            color: white;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
            margin-bottom: 10px;
            position: relative;
        }

        .header p {
            color: rgba(255,255,255,0.95);
            font-size: 1.2em;
            font-weight: 600;
        }

        /* Navigation Pills */
        .nav-pills {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .nav-pill {
            padding: 12px 24px;
            border-radius: 50px;
            border: none;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            font-size: 0.95em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .nav-pill:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .nav-pill.red { background: var(--heart-red); color: white; }
        .nav-pill.blue { background: var(--oxygen-blue); color: white; }
        .nav-pill.purple { background: var(--vessel-purple); color: white; }
        .nav-pill.green { background: var(--beta-green); color: white; }

        /* Section Styles */
        .section {
            background: var(--card-white);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            border-left: 6px solid var(--heart-red);
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-2px);
        }

        .section.oxygen { border-left-color: var(--oxygen-blue); }
        .section.angina { border-left-color: var(--vessel-purple); }
        .section.nitrates { border-left-color: var(--nitrate-yellow); }
        .section.beta { border-left-color: var(--beta-green); }
        .section.ccb { border-left-color: var(--ccb-orange); }

        .section-title {
            font-family: 'Fredoka One', cursive;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-title .emoji {
            font-size: 1.2em;
        }

        /* Key Concept Boxes */
        .key-concept {
            background: linear-gradient(135deg, #fff5f5 0%, #ffeaea 100%);
            border: 2px dashed var(--heart-red);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .key-concept.blue {
            background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%);
            border-color: var(--oxygen-blue);
        }

        .key-concept.purple {
            background: linear-gradient(135deg, #f8f0ff 0%, #f0e6ff 100%);
            border-color: var(--vessel-purple);
        }

        .key-concept h4 {
            color: var(--heart-red);
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .key-concept.blue h4 { color: var(--oxygen-blue); }
        .key-concept.purple h4 { color: var(--vessel-purple); }

        /* Accordion */
        .accordion {
            margin: 15px 0;
        }

        .accordion-header {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 18px 25px;
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 700;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .accordion-header:hover {
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);
        }

        .accordion-header.active {
            border-radius: 15px 15px 0 0;
            background: var(--vessel-purple);
            color: white;
        }

        .accordion-header .arrow {
            transition: transform 0.3s ease;
            font-size: 1.2em;
        }

        .accordion-header.active .arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            display: none;
            background: #fafafa;
            padding: 25px;
            border-radius: 0 0 15px 15px;
            border: 2px solid #e9ecef;
            border-top: none;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .accordion-content.show {
            display: block;
        }

        /* Comparison Cards */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .comparison-card:hover {
            transform: scale(1.02);
        }

        .comparison-card .card-header {
            padding: 20px;
            color: white;
            font-weight: 800;
            font-size: 1.1em;
            text-align: center;
        }

        .comparison-card.stable .card-header { background: var(--oxygen-blue); }
        .comparison-card.variant .card-header { background: var(--vessel-purple); }
        .comparison-card.unstable .card-header { background: var(--heart-red); }

        .comparison-card .card-body {
            padding: 20px;
        }

        .comparison-card ul {
            list-style: none;
            padding: 0;
        }

        .comparison-card li {
            padding: 8px 0;
            border-bottom: 1px dashed #eee;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .comparison-card li:last-child {
            border-bottom: none;
        }

        .comparison-card li::before {
            content: "‚Üí";
            color: var(--vessel-purple);
            font-weight: bold;
        }

        /* Flashcards */
        .flashcard-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .flashcard {
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard:hover .flashcard-inner,
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        .flashcard-front {
            background: linear-gradient(135deg, var(--oxygen-blue) 0%, var(--vessel-purple) 100%);
            color: white;
            font-weight: 700;
            font-size: 1.1em;
        }

        .flashcard-back {
            background: linear-gradient(135deg, var(--beta-green) 0%, var(--ccb-orange) 100%);
            color: white;
            transform: rotateY(180deg);
            font-size: 0.95em;
        }

        .flashcard-hint {
            font-size: 0.8em;
            opacity: 0.8;
            margin-top: 10px;
        }

        /* Drug Table */
        .drug-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .drug-table th {
            background: linear-gradient(135deg, var(--vessel-purple) 0%, var(--heart-red) 100%);
            color: white;
            padding: 18px 15px;
            text-align: left;
            font-weight: 700;
        }

        .drug-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
            background: white;
        }

        .drug-table tr:nth-child(even) td {
            background: #f8f9fa;
        }

        .drug-table tr:hover td {
            background: #e8f4f8;
        }

        /* Pathway Diagram */
        .pathway {
            background: linear-gradient(135deg, #fff9e6 0%, #fff3cd 100%);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid var(--nitrate-yellow);
        }

        .pathway-title {
            font-weight: 800;
            color: var(--ccb-orange);
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .pathway-steps {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .pathway-step {
            background: white;
            padding: 12px 18px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9em;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .pathway-arrow {
            color: var(--ccb-orange);
            font-size: 1.5em;
            font-weight: bold;
        }

        /* Mnemonic Box */
        .mnemonic {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            border: 3px solid var(--beta-green);
            text-align: center;
        }

        .mnemonic-title {
            font-family: 'Fredoka One', cursive;
            color: var(--beta-green);
            font-size: 1.3em;
            margin-bottom: 15px;
        }

        .mnemonic-content {
            font-size: 1.4em;
            font-weight: 800;
            color: var(--text-dark);
            letter-spacing: 2px;
        }

        .mnemonic-explain {
            margin-top: 15px;
            font-size: 0.95em;
            color: #555;
        }

        /* Quiz Section */
        .quiz-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
        }

        .quiz-question {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
        }

        .quiz-option {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .quiz-option:hover {
            border-color: var(--oxygen-blue);
            transform: translateX(5px);
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: var(--beta-green);
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: var(--heart-red);
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            font-weight: 600;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            color: #155724;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
        }

        /* List Styles */
        .styled-list {
            list-style: none;
            padding: 0;
        }

        .styled-list li {
            padding: 12px 15px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid var(--oxygen-blue);
            transition: transform 0.2s ease;
        }

        .styled-list li:hover {
            transform: translateX(5px);
        }

        /* Warning Box */
        .warning-box {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .warning-box h4 {
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Contraindication Box */
        .danger-box {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            border: 2px solid var(--heart-red);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .danger-box h4 {
            color: #721c24;
            margin-bottom: 10px;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            margin-top: 30px;
            background: var(--card-white);
            border-radius: 25px;
            box-shadow: var(--shadow);
        }

        .footer p {
            color: #666;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .section {
                padding: 20px;
            }
            
            .pathway-steps {
                flex-direction: column;
            }
            
            .pathway-arrow {
                transform: rotate(90deg);
            }
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Progress indicator colors for different drug classes */
        .drug-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 700;
            color: white;
            margin-right: 5px;
        }

        .badge-nitrate { background: var(--nitrate-yellow); color: #333; }
        .badge-beta { background: var(--beta-green); }
        .badge-ccb { background: var(--ccb-orange); }
        .badge-other { background: var(--vessel-purple); }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ü´Ä Chapter 54: Angina & Antianginal Drugs</h1>
            <p>Lehne's Pharmacology Made Fun & Easy!</p>
        </div>

        <!-- Navigation -->
        <div class="nav-pills">
            <button class="nav-pill red" onclick="scrollToSection('oxygen')">üíì O‚ÇÇ Supply & Demand</button>
            <button class="nav-pill purple" onclick="scrollToSection('angina')">üíî Types of Angina</button>
            <button class="nav-pill blue" onclick="scrollToSection('nitrates')">üíä Nitrates</button>
            <button class="nav-pill green" onclick="scrollToSection('other-drugs')">üíâ Other Drugs</button>
        </div>

        <!-- Section 1: Oxygen Supply & Demand -->
        <div class="section oxygen" id="oxygen">
            <h2 class="section-title"><span class="emoji">üíì</span> Cardiac Oxygen Supply & Demand</h2>
            
            <p>Understanding the balance between oxygen supply and demand is KEY to understanding angina treatment!</p>

            <div class="mnemonic">
                <div class="mnemonic-title">üß† Memory Trick: "HIP CAR"</div>
                <div class="mnemonic-content">H-I-P  C-A-R</div>
                <div class="mnemonic-explain">
                    <strong>H</strong>eart rate ‚Ä¢ <strong>I</strong>ntramyocardial wall tension ‚Ä¢ <strong>P</strong>reload<br>
                    <strong>C</strong>ontractility ‚Ä¢ <strong>A</strong>fterload ‚Ä¢ <strong>R</strong>esistance<br>
                    <em>‚Üë Any of these = ‚Üë Oxygen Demand!</em>
                </div>
            </div>

            <div class="comparison-grid">
                <div class="comparison-card stable">
                    <div class="card-header">‚¨ÜÔ∏è OXYGEN DEMAND</div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Heart Rate</strong> - Faster beating = more oxygen needed</li>
                            <li><strong>Contractility</strong> - Stronger contraction = more energy</li>
                            <li><strong>Wall Tension</strong> (MOST IMPORTANT!)
                                <ul style="margin-left: 20px; margin-top: 8px;">
                                    <li><strong>Preload:</strong> Blood volume in ventricles before contraction</li>
                                    <li><strong>Afterload:</strong> Resistance heart pumps against</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="comparison-card variant">
                    <div class="card-header">‚¨áÔ∏è OXYGEN SUPPLY</div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Determined by:</strong> Myocardial blood flow</li>
                            <li><strong>At rest:</strong> Heart extracts nearly ALL oxygen delivered</li>
                            <li><strong>During exertion:</strong> Must ‚Üë blood flow (can increase 4-5x!)</li>
                            <li><strong>Key fact:</strong> Perfusion only occurs during DIASTOLE üéØ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="key-concept blue">
                <h4>üîë KEY CONCEPT</h4>
                <p><strong>Drugs that reduce heart rate, contractility, preload, or afterload ‚Üí DECREASE oxygen demand!</strong></p>
                <p>The ONLY way to increase oxygen supply is to INCREASE blood flow (coronary arterioles dilate ‚Üí resistance decreases ‚Üí blood flow increases)</p>
            </div>
        </div>

        <!-- Section 2: Types of Angina -->
        <div class="section angina" id="angina">
            <h2 class="section-title"><span class="emoji">üíî</span> Types of Angina Pectoris</h2>

            <div class="comparison-grid">
                <div class="comparison-card stable">
                    <div class="card-header">üèÉ STABLE ANGINA<br>(Exertional)</div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Cause:</strong> CAD (plaque narrows arteries)</li>
                            <li><strong>Triggers:</strong> Exertion, stress, meals, cold</li>
                            <li><strong>At rest:</strong> O‚ÇÇ supply = O‚ÇÇ demand ‚úì</li>
                            <li><strong>During exertion:</strong> Demand exceeds supply ‚Üí PAIN</li>
                            <li><strong>Treatment goal:</strong> ‚Üì Oxygen DEMAND</li>
                        </ul>
                    </div>
                </div>

                <div class="comparison-card variant">
                    <div class="card-header">üò¥ VARIANT ANGINA<br>(Prinzmetal's)</div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Cause:</strong> Coronary artery SPASM</li>
                            <li><strong>Occurs:</strong> At rest or during sleep!</li>
                            <li><strong>Problem:</strong> ‚Üì Oxygen SUPPLY</li>
                            <li><strong>Treatment goal:</strong> ‚Üë Oxygen SUPPLY</li>
                            <li><strong>Note:</strong> Œ≤-blockers NOT effective here!</li>
                        </ul>
                    </div>
                </div>

                <div class="comparison-card unstable">
                    <div class="card-header">üö® UNSTABLE ANGINA<br>(Emergency!)</div>
                    <div class="card-body">
                        <ul>
                            <li><strong>Cause:</strong> Severe CAD + vasospasm + clots</li>
                            <li><strong>Can occur:</strong> At rest, new-onset, or worsening</li>
                            <li><strong>Risk:</strong> HIGH risk of death (< MI though)</li>
                            <li><strong>Status:</strong> MEDICAL EMERGENCY!</li>
                            <li><strong>Features:</strong> Platelet aggregation, transient thrombi</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="key-concept purple">
                <h4>üéØ Treatment Strategy Summary</h4>
                <table class="drug-table">
                    <tr>
                        <th>Angina Type</th>
                        <th>Goal</th>
                        <th>Effective Drugs</th>
                    </tr>
                    <tr>
                        <td><strong>Stable</strong></td>
                        <td>‚Üì O‚ÇÇ Demand</td>
                        <td>Nitrates, Œ≤-blockers, CCBs, Ranolazine</td>
                    </tr>
                    <tr>
                        <td><strong>Variant</strong></td>
                        <td>‚Üë O‚ÇÇ Supply</td>
                        <td>CCBs, Nitrates (NOT Œ≤-blockers!)</td>
                    </tr>
                    <tr>
                        <td><strong>Unstable</strong></td>
                        <td>Emergency Care</td>
                        <td>Hospitalization required</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Section 3: Organic Nitrates -->
        <div class="section nitrates" id="nitrates">
            <h2 class="section-title"><span class="emoji">üíä</span> Organic Nitrates - Nitroglycerin</h2>

            <div class="pathway">
                <div class="pathway-title">üî¨ Biochemical Pathway - How Nitroglycerin Works:</div>
                <div class="pathway-steps">
                    <div class="pathway-step">Nitrate enters VSM</div>
                    <span class="pathway-arrow">‚Üí</span>
                    <div class="pathway-step">Converted to NO (nitric oxide)</div>
                    <span class="pathway-arrow">‚Üí</span>
                    <div class="pathway-step">Activates guanylyl cyclase</div>
                    <span class="pathway-arrow">‚Üí</span>
                    <div class="pathway-step">‚Üë cGMP</div>
                    <span class="pathway-arrow">‚Üí</span>
                    <div class="pathway-step">Myosin dephosphorylation</div>
                    <span class="pathway-arrow">‚Üí</span>
                    <div class="pathway-step">üí• VASODILATION!</div>
                </div>
            </div>

            <div class="accordion">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>‚ö° Mechanism of Action by Angina Type</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content">
                    <table class="drug-table">
                        <tr>
                            <th>Type of Angina</th>
                            <th>How Nitroglycerin Helps</th>
                        </tr>
                        <tr>
                            <td><strong>Stable Angina</strong></td>
                            <td>‚Üì O‚ÇÇ demand by dilating VEINS ‚Üí ‚Üì preload ‚Üí ‚Üì wall tension</td>
                        </tr>
                        <tr>
                            <td><strong>Variant Angina</strong></td>
                            <td>‚Üë O‚ÇÇ supply by relaxing coronary artery SPASM</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="accordion">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>üíâ Routes of Administration</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content">
                    <table class="drug-table">
                        <tr>
                            <th>Form</th>
                            <th>Onset</th>
                            <th>Duration</th>
                            <th>Use</th>
                        </tr>
                        <tr>
                            <td><strong>Sublingual tablet</strong></td>
                            <td>1-3 min</td>
                            <td>30-60 min</td>
                            <td>Abort acute attack</td>
                        </tr>
                        <tr>
                            <td><strong>Translingual spray</strong></td>
                            <td>2-3 min</td>
                            <td>30-60 min</td>
                            <td>Same as sublingual</td>
                        </tr>
                        <tr>
                            <td><strong>Oral SR capsules</strong></td>
                            <td>20-45 min</td>
                            <td>3-8 h</td>
                            <td>Sustained prophylaxis</td>
                        </tr>
                        <tr>
                            <td><strong>Transdermal patch</strong></td>
                            <td>30-60 min</td>
                            <td>24 h</td>
                            <td>Prophylaxis (12-14h on, 10-12h off)</td>
                        </tr>
                        <tr>
                            <td><strong>Topical ointment</strong></td>
                            <td>20-60 min</td>
                            <td>2-12 h</td>
                            <td>Sustained prophylaxis</td>
                        </tr>
                        <tr>
                            <td><strong>IV</strong></td>
                            <td>Immediate</td>
                            <td>Variable</td>
                            <td>Refractory angina, heart failure</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="accordion">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>‚ö†Ô∏è Adverse Effects & Interactions</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content">
                    <h4 style="margin-bottom: 15px;">Common Side Effects:</h4>
                    <ul class="styled-list">
                        <li>ü§ï <strong>Headache</strong> - Due to vasodilation; decreases over time</li>
                        <li>üòµ <strong>Orthostatic hypotension</strong> - Blood pools in veins ‚Üí lightheadedness</li>
                        <li>üíì <strong>Reflex tachycardia</strong> - Baroreceptor response (can negate benefits!)</li>
                    </ul>

                    <div class="danger-box">
                        <h4>üö´ CONTRAINDICATED with PDE5 Inhibitors!</h4>
                        <p><strong>Viagra (sildenafil), Cialis (tadalafil), Levitra (vardenafil)</strong></p>
                        <p>Combination causes DANGEROUS hypotension! ‚ö†Ô∏è</p>
                    </div>

                    <div class="warning-box">
                        <h4>‚ö° Drug Interactions</h4>
                        <ul>
                            <li>Hypotensive drugs ‚Üí additive effect</li>
                            <li>Œ≤-blockers, verapamil, diltiazem ‚Üí actually HELPFUL (prevent reflex tachycardia)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="accordion">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>üîÑ Tolerance - Why It Happens & How to Prevent</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content">
                    <div class="key-concept">
                        <h4>Why Tolerance Develops:</h4>
                        <ul class="styled-list">
                            <li><strong>Sulfhydryl depletion</strong> - SH groups needed to convert nitrate to NO</li>
                            <li><strong>Oxidative injury</strong> to aldehyde dehydrogenase</li>
                        </ul>
                    </div>

                    <div class="mnemonic">
                        <div class="mnemonic-title">üí° Prevention Strategy</div>
                        <div class="mnemonic-content">"8 Hours OFF, Every Day!"</div>
                        <div class="mnemonic-explain">
                            Use intermittent dosing with an 8-hour nitrate-free period daily<br>
                            + Use the lowest effective dose
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 4: Other Drugs -->
        <div class="section beta" id="other-drugs">
            <h2 class="section-title"><span class="emoji">üíâ</span> Other Antianginal Drugs</h2>

            <!-- Œ≤-Blockers -->
            <div class="accordion">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span><span class="drug-badge badge-beta">Œ≤-BLOCKERS</span> Propranolol, Metoprolol</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content">
                    <div class="key-concept blue">
                        <h4>How They Work:</h4>
                        <ul class="styled-list">
                            <li>‚Üì Heart rate</li>
                            <li>‚Üì Contractility</li>
                            <li>‚Üì Afterload (modest)</li>
                            <li>‚Üë O‚ÇÇ supply by prolonging diastole! üéØ</li>
                            <li>BONUS: Blunt reflex tachycardia from nitrates</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h4>‚ö†Ô∏è Precautions:</h4>
                        <ul>
                            <li>Start LOW, titrate up</li>
                            <li>NEVER stop abruptly! (can cause rebound)</li>
                            <li>Caution in asthma (bronchoconstriction)</li>
                            <li>Watch for: bradycardia, AV block, CNS effects</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- CCBs -->
            <div class="accordion">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span><span class="drug-badge badge-ccb">CCBs</span> Verapamil, Diltiazem, Nifedipine</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content">
                    <table class="drug-table">
                        <tr>
                            <th>Angina Type</th>
                            <th>How CCBs Help</th>
                        </tr>
                        <tr>
                            <td><strong>Stable Angina</strong></td>
                            <td>‚Üì Afterload via arteriolar dilation<br>‚Üì HR & contractility (verapamil/diltiazem)</td>
                        </tr>
                        <tr>
                            <td><strong>Variant Angina</strong></td>
                            <td>Relax coronary spasm ‚Üí ‚Üë O‚ÇÇ supply ‚úì</td>
                        </tr>
                    </table>

                    <div class="mnemonic">
                        <div class="mnemonic-title">üß† CCB Memory Tip</div>
                        <div class="mnemonic-content">"VD Slow the Heart"</div>
                        <div class="mnemonic-explain">
                            <strong>V</strong>erapamil & <strong>D</strong>iltiazem = ‚Üì Heart rate & contractility<br>
                            Nifedipine = More vasodilation, can cause reflex tachycardia!
                        </div>
                    </div>

                    <div class="warning-box">
                        <h4>‚ö†Ô∏è Cautions:</h4>
                        <ul>
                            <li>Hypotension</li>
                            <li>Reflex tachycardia (especially nifedipine)</li>
                            <li>Caution with bradycardia, heart failure, AV block</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Ranolazine -->
            <div class="accordion">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span><span class="drug-badge badge-other">RANOLAZINE</span> Unique Mechanism</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="accordion-content">
                    <div class="key-concept purple">
                        <h4>How It's Different:</h4>
                        <ul class="styled-list">
                            <li>Reduces Na‚Å∫/Ca¬≤‚Å∫ accumulation in myocytes</li>
                            <li>Makes the heart use energy MORE EFFICIENTLY</li>
                            <li>Does NOT affect heart rate or blood pressure! üí°</li>
                        </ul>
                    </div>

                    <p><strong>Pharmacokinetics:</strong></p>
                    <ul class="styled-list">
                        <li>Metabolism: CYP3A4</li>
                        <li>Half-life: ~7 hours</li>
                        <li>Excretion: Urine & feces</li>
                    </ul>

                    <div class="warning-box">
                        <h4>‚ö†Ô∏è Side Effects:</h4>
                        <ul>
                            <li>QT prolongation ‚ö°</li>
                            <li>Constipation</li>
                            <li>Dizziness, headache, nausea</li>
                        </ul>
                    </div>

                    <div class="danger-box">
                        <h4>üö´ NOT for Variant Angina!</h4>
                        <p>Ranolazine (like Œ≤-blockers) is NOT effective for variant/Prinzmetal's angina</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Review Flashcards -->
        <div class="section">
            <h2 class="section-title"><span class="emoji">üé¥</span> Quick Review Flashcards</h2>
            <p style="margin-bottom: 20px;">Click each card to reveal the answer!</p>

            <div class="flashcard-container">
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            What is the MOST important determinant of cardiac oxygen demand?
                            <div class="flashcard-hint">(Click to flip)</div>
                        </div>
                        <div class="flashcard-back">
                            <strong>Intramyocardial wall tension!</strong><br>
                            (Determined by preload & afterload)
                        </div>
                    </div>
                </div>

                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            When does coronary perfusion occur?
                            <div class="flashcard-hint">(Click to flip)</div>
                        </div>
                        <div class="flashcard-back">
                            <strong>Only during DIASTOLE!</strong><br>
                            (Systolic contraction compresses vessels)
                        </div>
                    </div>
                </div>

                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            What drugs are CONTRAINDICATED with nitroglycerin?
                            <div class="flashcard-hint">(Click to flip)</div>
                        </div>
                        <div class="flashcard-back">
                            <strong>PDE5 Inhibitors!</strong><br>
                            Viagra, Cialis, Levitra<br>
                            (Causes dangerous hypotension)
                        </div>
                    </div>
                </div>

                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            How do you prevent nitrate tolerance?
                            <div class="flashcard-hint">(Click to flip)</div>
                        </div>
                        <div class="flashcard-back">
                            <strong>8-hour nitrate-free period daily!</strong><br>
                            + Use lowest effective dose
                        </div>
                    </div>
                </div>

                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            Which drugs DON'T work for Variant Angina?
                            <div class="flashcard-hint">(Click to flip)</div>
                        </div>
                        <div class="flashcard-back">
                            <strong>Œ≤-blockers & Ranolazine!</strong><br>
                            (They don't address coronary spasm)
                        </div>
                    </div>
                </div>

                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            What's unique about Ranolazine's mechanism?
                            <div class="flashcard-hint">(Click to flip)</div>
                        </div>
                        <div class="flashcard-back">
                            <strong>Improves myocardial energy efficiency!</strong><br>
                            (‚Üì Na‚Å∫/Ca¬≤‚Å∫ without affecting HR or BP)
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="section">
            <h2 class="section-title"><span class="emoji">üìù</span> Test Your Knowledge!</h2>

            <div class="quiz-box" id="quiz1">
                <div class="quiz-question">1. A patient has Prinzmetal's angina that occurs during sleep. Which drug class is MOST appropriate?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz1')">A. Œ≤-blockers</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true, 'quiz1')">B. Calcium Channel Blockers</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz1')">C. Ranolazine</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz1')">D. ACE Inhibitors</div>
                </div>
                <div class="quiz-feedback" id="quiz1-feedback"></div>
            </div>

            <div class="quiz-box" id="quiz2">
                <div class="quiz-question">2. A patient on nitroglycerin asks about erectile dysfunction medication. What do you tell them?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz2')">A. It's safe to use any ED medication</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true, 'quiz2')">B. PDE5 inhibitors are contraindicated - dangerous hypotension!</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz2')">C. They should double their nitrate dose first</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz2')">D. There's no interaction to worry about</div>
                </div>
                <div class="quiz-feedback" id="quiz2-feedback"></div>
            </div>

            <div class="quiz-box" id="quiz3">
                <div class="quiz-question">3. Which CCBs also decrease heart rate and contractility (not just afterload)?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz3')">A. Nifedipine only</div>
                    <div class="quiz-option" onclick="checkAnswer(this, true, 'quiz3')">B. Verapamil and Diltiazem</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz3')">C. Amlodipine only</div>
                    <div class="quiz-option" onclick="checkAnswer(this, false, 'quiz3')">D. All CCBs equally</div>
                </div>
                <div class="quiz-feedback" id="quiz3-feedback"></div>
            </div>
        </div>

        <!-- Summary Section -->
        <div class="section ccb">
            <h2 class="section-title"><span class="emoji">‚úÖ</span> Final Summary</h2>

            <div class="key-concept">
                <h4>üéØ Remember These Key Points:</h4>
                <ol style="padding-left: 20px; line-height: 2;">
                    <li><strong>Stable Angina:</strong> Focus on ‚Üì O‚ÇÇ DEMAND (nitrates, Œ≤-blockers, CCBs, ranolazine)</li>
                    <li><strong>Variant Angina:</strong> Focus on ‚Üë O‚ÇÇ SUPPLY (CCBs, nitrates only!)</li>
                    <li><strong>Nitroglycerin tolerance:</strong> 8-hour nitrate-free period daily</li>
                    <li><strong>Never combine:</strong> Nitrates + PDE5 inhibitors</li>
                    <li><strong>Œ≤-blockers bonus:</strong> Prevent reflex tachycardia from nitrates</li>
                    <li><strong>Ranolazine uniqueness:</strong> ‚Üë Efficiency without affecting HR/BP</li>
                    <li><strong>Perfusion timing:</strong> Only during diastole!</li>
                </ol>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>üìö Study Guide created from Lehne's Pharmacology Chapter 54</p>
            <p style="margin-top: 10px; font-size: 0.9em; color: #888;">Click the flashcards to flip them ‚Ä¢ Click quiz answers to check ‚Ä¢ Click accordion headers to expand</p>
        </div>
    </div>

    <script>
        // Accordion functionality
        function toggleAccordion(header) {
            const content = header.nextElementSibling;
            const isActive = header.classList.contains('active');
            
            // Close all accordions
            document.querySelectorAll('.accordion-header').forEach(h => {
                h.classList.remove('active');
                h.nextElementSibling.classList.remove('show');
            });
            
            // Open clicked one if it wasn't active
            if (!isActive) {
                header.classList.add('active');
                content.classList.add('show');
            }
        }

        // Quiz functionality
        function checkAnswer(option, isCorrect, quizId) {
            const quiz = document.getElementById(quizId);
            const options = quiz.querySelectorAll('.quiz-option');
            const feedback = document.getElementById(quizId + '-feedback');
            
            // Disable all options
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt === option) {
                    opt.classList.add(isCorrect ? 'correct' : 'incorrect');
                }
            });
            
            // Show correct answer if wrong
            if (!isCorrect) {
                options.forEach(opt => {
                    if (opt.onclick.toString().includes('true')) {
                        opt.classList.add('correct');
                    }
                });
            }
            
            // Show feedback
            feedback.textContent = isCorrect ? 
                '‚úÖ Correct! Great job!' : 
                '‚ùå Not quite. Review the correct answer highlighted in green.';
            feedback.className = 'quiz-feedback show ' + (isCorrect ? 'correct' : 'incorrect');
        }

        // Smooth scroll to sections
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Add entrance animations
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            sections.forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                section.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
